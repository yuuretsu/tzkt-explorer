var app=function(t,e,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=o(t),s=o(e),a=o(n);function l(){}function c(t){return t()}function i(){return Object.create(null)}function u(t){t.forEach(c)}function f(t){return"function"==typeof t}function d(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let h,m;function p(t,e){return h||(h=document.createElement("a")),h.href=e,t===h.href}function $(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function y(){return w(" ")}function x(){return w("")}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){m=t}const j=[],B=[],N=[],O=[],S=Promise.resolve();let A=!1;function C(t){N.push(t)}const L=new Set;let I=0;function T(){const t=m;do{for(;I<j.length;){const t=j[I];I++,E(t),H(t.$$)}for(E(null),j.length=0,I=0;B.length;)B.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];L.has(e)||(L.add(e),e())}N.length=0}while(j.length);for(;O.length;)O.pop()();A=!1,L.clear(),E(t)}function H(t){if(null!==t.fragment){t.update(),u(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const P=new Set;let R;function U(){R={r:0,c:[],p:R}}function q(){R.r||u(R.c),R=R.p}function D(t,e){t&&t.i&&(P.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(P.has(t))return;P.add(t),R.c.push((()=>{P.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function G(t,e){F(t,1,1,(()=>{e.delete(t.key)}))}function J(t){t&&t.c()}function K(t,e,n,o){const{fragment:r,on_mount:s,on_destroy:a,after_update:l}=t.$$;r&&r.m(e,n),o||C((()=>{const e=s.map(c).filter(f);a?a.push(...e):u(e),t.$$.on_mount=[]})),l.forEach(C)}function Q(t,e){const n=t.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(j.push(t),A||(A=!0,S.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,o,r,s,a,c=[-1]){const f=m;E(t);const d=t.$$={fragment:null,ctx:null,props:s,update:l,not_equal:r,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};a&&a(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&r(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),h&&V(t,e)),n})):[],d.update(),h=!0,u(d.before_update),d.fragment=!!o&&o(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();e.intro&&D(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),T()}E(f)}class X{$destroy(){Q(this,1),this.$destroy=l}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=(Z="https://api.tzkt.io/v1",async(t,e={})=>await fetch(`${Z}${t}?`+new URLSearchParams(e)));var Z;function tt({alias:t,address:e}){return{value:t||e,type:t?"alias":"address"}}function et(t){let e,n,o,r,s,a,c,i,u,f,d,h,m,b,x,E,j,B,N,O,S,A,C=t[1].level+"",L=tt(t[1].baker).value+"",I=t[1].transactions.length+"";return{c(){e=k("button"),n=k("div"),o=w("#"),r=w(C),s=y(),a=k("div"),c=k("div"),i=k("img"),d=y(),h=k("div"),m=w(L),b=y(),x=k("div"),E=w("["),j=w(I),B=w("]"),N=y(),O=k("div"),O.textContent=`${t[2].getHours()}:${t[2].getMinutes()}`,_(n,"class","block-lvl svelte-emc29n"),p(i.src,u=`https://services.tzkt.io/v1/avatars/${t[1].baker.address}`)||_(i,"src",u),_(i,"width","25"),_(i,"alt",f=`${tt(t[1].baker).value} avatar`),_(i,"class","svelte-emc29n"),_(c,"class","block-baker-avatar-wrapper svelte-emc29n"),_(a,"class","block-baker-avatar svelte-emc29n"),_(h,"class","block-baker-name svelte-emc29n"),_(x,"class","svelte-emc29n"),_(O,"class","block-time svelte-emc29n"),_(e,"class","block-head svelte-emc29n"),z(e,"opened",t[0])},m(l,u){var f,p,g,k;v(l,e,u),$(e,n),$(n,o),$(n,r),$(e,s),$(e,a),$(a,c),$(c,i),$(e,d),$(e,h),$(h,m),$(e,b),$(e,x),$(x,E),$(x,j),$(x,B),$(e,N),$(e,O),S||(f=e,p="click",g=t[3],f.addEventListener(p,g,k),A=()=>f.removeEventListener(p,g,k),S=!0)},p(t,[n]){2&n&&C!==(C=t[1].level+"")&&M(r,C),2&n&&!p(i.src,u=`https://services.tzkt.io/v1/avatars/${t[1].baker.address}`)&&_(i,"src",u),2&n&&f!==(f=`${tt(t[1].baker).value} avatar`)&&_(i,"alt",f),2&n&&L!==(L=tt(t[1].baker).value+"")&&M(m,L),2&n&&I!==(I=t[1].transactions.length+"")&&M(j,I),1&n&&z(e,"opened",t[0])},i:l,o:l,d(t){t&&g(e),S=!1,A()}}}function nt(t,e,n){let{block:o}=e,{showMore:r}=e;const s=new Date(o.timestamp);return t.$$set=t=>{"block"in t&&n(1,o=t.block),"showMore"in t&&n(0,r=t.showMore)},[r,o,s,()=>n(0,r=!r)]}class ot extends X{constructor(t){super(),W(this,t,nt,et,d,{block:1,showMore:0})}}function rt(t){let e;return{c(){e=w("with")},m(t,n){v(t,e,n)},d(t){t&&g(e)}}}function st(t){let e,n,o,r=t[0].amount/1e6+"";return{c(){e=k("span"),n=w(r),o=w(" êœ©"),_(e,"class","xtz-amount svelte-v0nxo")},m(t,r){v(t,e,r),$(e,n),$(e,o)},p(t,e){1&e&&r!==(r=t[0].amount/1e6+"")&&M(n,r)},d(t){t&&g(e)}}}function at(t){let e,n,o,r,s,a,c,i,u,f,d,h,m,p,b,E,j=+t[0].numberInBlock+1+"",B=tt(t[0].sender).value+"",N=t[3]&&function(t){let e,n,o;var r=t[3];return r&&(e=new r({})),{c(){e&&J(e.$$.fragment),n=x()},m(t,r){e&&K(e,t,r),v(t,n,r),o=!0},p(t,o){if(r!==(r=t[3])){if(e){U();const t=e;F(t.$$.fragment,1,0,(()=>{Q(t,1)})),q()}r?(e=new r({}),J(e.$$.fragment),D(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}},i(t){o||(e&&D(e.$$.fragment,t),o=!0)},o(t){e&&F(e.$$.fragment,t),o=!1},d(t){t&&g(n),e&&Q(e,t)}}}(t),O=t[1]&&function(t){let e;return{c(){e=k("code"),e.textContent=`${t[1]}(${t[2]})`,_(e,"class","method svelte-v0nxo")},m(t,n){v(t,e,n)},p:l,d(t){t&&g(e)}}}(t),S=t[0].amount&&t[1]&&rt(),A=t[0].amount&&st(t);return{c(){e=k("div"),n=k("div"),N&&N.c(),o=y(),r=k("a"),s=w("#"),a=w(j),i=y(),u=k("a"),f=w(B),h=y(),m=k("div"),O&&O.c(),p=y(),S&&S.c(),b=y(),A&&A.c(),_(n,"class","transaction-from__status svelte-v0nxo"),_(r,"class","transaction-from__number svelte-v0nxo"),_(r,"href",c=`https://tzkt.io/${t[0].hash}`),_(r,"target","_blank"),_(u,"class","transaction-from__wallet svelte-v0nxo"),_(u,"href",d=`https://tzkt.io/${t[0].sender.address}`),_(u,"target","_blank"),z(u,"bold","alias"===tt(t[0].sender).type),_(m,"class","svelte-v0nxo"),_(e,"class","transaction-from svelte-v0nxo"),z(e,"failed","failed"===t[0].status)},m(t,l){v(t,e,l),$(e,n),N&&N.m(n,null),$(e,o),$(e,r),$(r,s),$(r,a),$(e,i),$(e,u),$(u,f),$(e,h),$(e,m),O&&O.m(m,null),$(m,p),S&&S.m(m,null),$(m,b),A&&A.m(m,null),E=!0},p(t,[n]){t[3]&&N.p(t,n),(!E||1&n)&&j!==(j=+t[0].numberInBlock+1+"")&&M(a,j),(!E||1&n&&c!==(c=`https://tzkt.io/${t[0].hash}`))&&_(r,"href",c),(!E||1&n)&&B!==(B=tt(t[0].sender).value+"")&&M(f,B),(!E||1&n&&d!==(d=`https://tzkt.io/${t[0].sender.address}`))&&_(u,"href",d),1&n&&z(u,"bold","alias"===tt(t[0].sender).type),t[1]&&O.p(t,n),t[0].amount&&t[1]?S||(S=rt(),S.c(),S.m(m,b)):S&&(S.d(1),S=null),t[0].amount?A?A.p(t,n):(A=st(t),A.c(),A.m(m,null)):A&&(A.d(1),A=null),1&n&&z(e,"failed","failed"===t[0].status)},i(t){E||(D(N),E=!0)},o(t){F(N),E=!1},d(t){t&&g(e),N&&N.d(),O&&O.d(),S&&S.d(),A&&A.d()}}}function lt(t,e,n){let{transaction:o}=e;const l=o?.parameter?.entrypoint,c=({string:t=>t.length>8?`${t.slice(0,5)}...`:t,number:t=>t,object:t=>"{...}"}[typeof o?.parameter?.value]||(()=>{}))(o?.parameter?.value),i={failed:r.default,backtracked:s.default,skipped:a.default}[o.status];return t.$$set=t=>{"transaction"in t&&n(0,o=t.transaction)},[o,l,c,i]}class ct extends X{constructor(t){super(),W(this,t,lt,at,d,{transaction:0})}}function it(t,e,n){const o=t.slice();return o[4]=e[n][0],o[5]=e[n][1],o}function ut(t,e,n){const o=t.slice();return o[8]=e[n],o}function ft(t){let e,n,o=Object.entries(t[2](t[1].transactions)),r=[];for(let e=0;e<o.length;e+=1)r[e]=ht(it(t,o,e));const s=t=>F(r[t],1,1,(()=>{r[t]=null}));return{c(){e=k("div");for(let t=0;t<r.length;t+=1)r[t].c();_(e,"class","block-body svelte-1hcaorm")},m(t,o){v(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){if(6&n){let a;for(o=Object.entries(t[2](t[1].transactions)),a=0;a<o.length;a+=1){const s=it(t,o,a);r[a]?(r[a].p(s,n),D(r[a],1)):(r[a]=ht(s),r[a].c(),D(r[a],1),r[a].m(e,null))}for(U(),a=o.length;a<r.length;a+=1)s(a);q()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)D(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)F(r[t]);n=!1},d(t){t&&g(e),b(r,t)}}}function dt(t){let e,n;return e=new ct({props:{transaction:t[8]}}),{c(){J(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.transaction=t[8]),e.$set(o)},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function ht(t){let e,n,o,r,s,a,l,c,i,u,f,d,h,m=t[5].to.value+"",x=t[5].list,E=[];for(let e=0;e<x.length;e+=1)E[e]=dt(ut(t,x,e));const j=t=>F(E[t],1,1,(()=>{E[t]=null}));return{c(){e=k("div"),n=w("to\n          "),o=k("img"),a=y(),l=k("a"),c=w(m),u=y(),f=k("div");for(let t=0;t<E.length;t+=1)E[t].c();d=y(),_(o,"class","transaction-target-avatar svelte-1hcaorm"),p(o.src,r=`https://services.tzkt.io/v1/avatars/${t[4]}`)||_(o,"src",r),_(o,"width","40"),_(o,"height","40"),_(o,"alt",s=t[5].to.value),_(l,"class","transaction-target-name svelte-1hcaorm"),_(l,"href",i=`https://tzkt.io/${t[4]}`),z(l,"bold","alias"===t[5].to.type),_(e,"class","transaction-target svelte-1hcaorm"),_(f,"class","transactions-from svelte-1hcaorm")},m(t,r){v(t,e,r),$(e,n),$(e,o),$(e,a),$(e,l),$(l,c),v(t,u,r),v(t,f,r);for(let t=0;t<E.length;t+=1)E[t].m(f,null);$(f,d),h=!0},p(t,e){if((!h||2&e&&!p(o.src,r=`https://services.tzkt.io/v1/avatars/${t[4]}`))&&_(o,"src",r),(!h||2&e&&s!==(s=t[5].to.value))&&_(o,"alt",s),(!h||2&e)&&m!==(m=t[5].to.value+"")&&M(c,m),(!h||2&e&&i!==(i=`https://tzkt.io/${t[4]}`))&&_(l,"href",i),6&e&&z(l,"bold","alias"===t[5].to.type),6&e){let n;for(x=t[5].list,n=0;n<x.length;n+=1){const o=ut(t,x,n);E[n]?(E[n].p(o,e),D(E[n],1)):(E[n]=dt(o),E[n].c(),D(E[n],1),E[n].m(f,d))}for(U(),n=x.length;n<E.length;n+=1)j(n);q()}},i(t){if(!h){for(let t=0;t<x.length;t+=1)D(E[t]);h=!0}},o(t){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)F(E[t]);h=!1},d(t){t&&g(e),t&&g(u),t&&g(f),b(E,t)}}}function mt(t){let e,n,o,r,s;function a(e){t[3](e)}let l={block:t[1]};void 0!==t[0]&&(l.showMore=t[0]),n=new ot({props:l}),B.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(n,"showMore",a)));let c=t[0]&&ft(t);return{c(){e=k("div"),J(n.$$.fragment),r=y(),c&&c.c(),_(e,"class","block svelte-1hcaorm")},m(t,o){v(t,e,o),K(n,e,null),$(e,r),c&&c.m(e,null),s=!0},p(t,[r]){const s={};var a;2&r&&(s.block=t[1]),!o&&1&r&&(o=!0,s.showMore=t[0],a=()=>o=!1,O.push(a)),n.$set(s),t[0]?c?(c.p(t,r),1&r&&D(c,1)):(c=ft(t),c.c(),D(c,1),c.m(e,null)):c&&(U(),F(c,1,1,(()=>{c=null})),q())},i(t){s||(D(n.$$.fragment,t),D(c),s=!0)},o(t){F(n.$$.fragment,t),F(c),s=!1},d(t){t&&g(e),Q(n),c&&c.d()}}}function pt(t,e,n){let{block:o}=e,{showMore:r=!1}=e;return console.log(o),t.$$set=t=>{"block"in t&&n(1,o=t.block),"showMore"in t&&n(0,r=t.showMore)},[r,o,function(t){const e={};for(const[n,o]of Object.entries(t)){const t=o.target.address;e[t]??={list:[],to:tt(o.target)},e[t].list.push({...o,numberInBlock:n})}return e},function(t){r=t,n(0,r)}]}class $t extends X{constructor(t){super(),W(this,t,pt,mt,d,{block:1,showMore:0})}}function vt(t,e,n){const o=t.slice();return o[3]=e[n],o}function gt(t,e){let n,o,r;return o=new $t({props:{block:e[3]}}),{key:t,first:null,c(){n=x(),J(o.$$.fragment),this.first=n},m(t,e){v(t,n,e),K(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.block=e[3]),o.$set(r)},i(t){r||(D(o.$$.fragment,t),r=!0)},o(t){F(o.$$.fragment,t),r=!1},d(t){t&&g(n),Q(o,t)}}}function bt(t){let e,n,o=[],r=new Map,s=[...t[0]].reverse();const a=t=>t[3].level;for(let e=0;e<s.length;e+=1){let n=vt(t,s,e),l=a(n);r.set(l,o[e]=gt(l,n))}return{c(){e=k("main");for(let t=0;t<o.length;t+=1)o[t].c();_(e,"class","container")},m(t,r){v(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){1&n&&(s=[...t[0]].reverse(),U(),o=function(t,e,n,o,r,s,a,l,c,i,u,f){let d=t.length,h=s.length,m=d;const p={};for(;m--;)p[t[m].key]=m;const $=[],v=new Map,g=new Map;for(m=h;m--;){const t=f(r,s,m),l=n(t);let c=a.get(l);c?o&&c.p(t,e):(c=i(l,t),c.c()),v.set(l,$[m]=c),l in p&&g.set(l,Math.abs(m-p[l]))}const b=new Set,k=new Set;function w(t){D(t,1),t.m(l,u),a.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=$[h-1],n=t[d-1],o=e.key,r=n.key;e===n?(u=e.first,d--,h--):v.has(r)?!a.has(o)||b.has(o)?w(e):k.has(r)?d--:g.get(o)>g.get(r)?(k.add(o),w(e)):(b.add(r),d--):(c(n,a),d--)}for(;d--;){const e=t[d];v.has(e.key)||c(e,a)}for(;h;)w($[h-1]);return $}(o,n,a,1,t,s,r,e,G,gt,null,vt),q())},i(t){if(!n){for(let t=0;t<s.length;t+=1)D(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){t&&g(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}async function kt(t){return await t.text()}async function wt(t){return await t.json()}function yt(t,e,n){const o=(new signalR.HubConnectionBuilder).withUrl("https://api.tzkt.io/v1/events").build();async function r(){await o.start(),await o.invoke("SubscribeToBlocks")}o.onclose(r),o.on("blocks",(t=>{if(console.log(t),t.data)for(const e of t.data)Y(`/blocks/${Number(e.level)}`,{operations:!0}).then(wt).then((t=>n(0,s=[...s,t])))})),r();let s=[];return Y("/blocks/count").then(kt).then((t=>Y("/blocks/"+(Number(t)-1),{operations:!0}))).then(wt).then((t=>n(0,s=[t,...s]))),[s]}return new class extends X{constructor(t){super(),W(this,t,yt,bt,d,{})}}({target:document.body})}(MdErrorOutline,MdArrowBack,MdSkipNext);
//# sourceMappingURL=bundle.js.map
